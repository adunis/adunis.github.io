<html lang="">
<head>
    <title>Handful of Heroes</title>
    <script type="module" src="javascript.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.css" />
    <link rel="stylesheet" type="text/css" href="css.css" />

</head>

<input type="checkbox" id="super-mini-card-view" />
<label for="super-mini-card-view">Super mini card template</label>


<body>

<div id="navbar">
    <a class="active" href="index.html">Card Browser</a>
    <a href="deck-manager.html">Deck Manager</a>
    <a href="gm-panel.html">GM Panel</a>
    <a href="rules.html">Rules</a>

</div>

    <div id="deck-stats">
    </div>


<div id="drop-area">
    <div id="drop-area-label">Drag and drop to add new cards</div>
    <input type="file" id="booster-pack-file-input" accept=".hoh,.json" style="display: none;">
    <div class="search-container">
        <div class="action-bar-container"  style="display: none;">

            <div id="burger-menu">
                <span></span>
            </div> <input type="text" id="my-input" placeholder="You can filter by key:value, for example type:item or crystals:red. Write 'help' for more. "></div>
        <div id="pagination" class="pagination" style="display: none;"></div>
        <div id="popup" style="display:none"><p>Help content goes here.</p></div>
    </div>

    <input type="file" id="json-file-input"  accept=".json" style="display: none;">

    <br> <div id="booster-pack-container">
    <div id="booster-pack-cards"></div>
</div>

    <div id="previewImg"></div>


    <div id="card-grid"></div>

    <div id="deck-stats-template" style="display:none">
        <div id="toggle-container">
            <input type="checkbox" id="toggle-deck-stats-btn">
            <label for="toggle-deck-stats-btn">Hide/Show</label>
        </div>
        <div id="deck-container">
        <div id="deck-name-text">{{deck_name}}</div>
        <div id="deck-picture"><img src="{{deck_image}}" alt="Cloudy Sky"></div>
        <div id="deck-description">{{deck_description}}</div>
        <div>XP: <span id="xp-counter">{{xp}}{{^xp}}0{{/xp}}</span> <button  id="increase-xp-btn">+</button> <button  id="decrease-xp-btn">-</button></div>
        <div>Coins: <span id="coin-counter">{{coins}}{{^coins}}0{{/coins}}</span> <button id="increase-coins-btn">+</button> <button id="decrease-coins-btn">-</button></div>
    </div>
    </div>


    <div id="card-template" style="display:none">
        <div class="card {{#crystals.requires}} {{.}}-color {{/crystals.requires}} {{#crystals.provides}} {{.}}-color {{/crystals.provides}}">
            <div class="hoh-card-header {{#type}} {{.}}-header {{/type}} header-image" style=" {{#header_image}} background-image:url('images/{{header_image}}');  {{/header_image}}" >
                <div class="left-crystals">
                    <div class="crystals-label-left">{{left_label}}Requires</div>
                    <div class="crystals-container">
                        <div class="crystal soldier invisible"></div>
                        {{#left}}
                        <div class="card-stat-label">{{.}}</div>
                        {{/left}}
                        {{#crystals.requires}}
                        <div class="crystal {{.}}"></div>
                        {{/crystals.requires}}
                    </div>
                </div>
                <div class="icon-image-container">-
                    <div class="title">{{name}}</div>
                </div>
                <div class="right-crystals">
                    <div class="crystals-label-right">{{right_label}}Provides</div>
                    <div class="crystals-container">
                        <div class="crystal soldier invisible"></div>
                        {{#right}}
                        <div class="card-stat-label">{{.}}</div>
                        {{/right}}
                        {{#crystals.provides}}
                        <div class="crystal {{.}}"></div>
                        {{/crystals.provides}}
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <div class="card-stats">
                    {{#stats}}
                    <div class="card-stat">
                        <div class="card-stat-label">{{stat_name}}</div>
                        <div class="card-stat-value">{{stat_value}}</div>
                    </div>
                    {{/stats}}
                    <div class="card-stat">
                        <div class="card-stat-label">{{type_label}}{{^type_label}}Type{{/type_label}}</div>
                        <div class="card-stat-value">{{type}}</div>
                    </div>
                </div>
                <div class="card-stats">
                    {{#abilities}}
                    <div class="card-stat">
                        <div class="card-stat-label">{{ability_name}}</div>
                        <div class="card-stat-value">{{ability_value}}</div>
                    </div>
                    {{/abilities}}
                </div>
            </div>
            <div class="card-body">
                {{#moves}}
                <div class="moves">
                    {{#moves_name}}
                    {{#moves_requirements}}
                    <span class="crystal move-crystal {{.}}"></span>
                    {{/moves_requirements}}
                    <div class="subtitle">{{{moves_name}}}</div>
                    {{/moves_name}}
                </div>
                {{#moves_description}}
                <div>{{{moves_description}}}</div>
                {{/moves_description}}
                {{/moves}}

                <div class="description">
                    {{#description}}
                    {{{description}}}
                    {{/description}}
                </div>
            </div>
        </div>

    </div>

    <!-- Modal for editing cards -->
    <div class="editor-modal">
        <div class="editor-modal-content">
            <div class="editor-container">  <div class="card-preview"></div>
                <section class="json-editor-section">
                    <div id="toggle-container">
                        <input type="checkbox" id="auto-calculate-toggle">
                        <label for="auto-calculate-toggle">Auto calculate stats</label>
                    </div>

                    <textarea id="json-editor">{</textarea>
                </section></div>
            <div class="button-container">
                <button id="submit-button">Save changes</button>
                <button id="cancel-button">Cancel</button>
            </div>
        </div>

    </div>



    <div id="menu">
        <ul>
            <a id="open-booster-pack" href="#" class="sparkly-btn">Add cards to deck</a>
            <a id="load-json" href="#">Load another deck</a>
            <a id="btn-Convert-Html2Image" href="#">Convert visible cards to JPGs</a>
            <a id="load-hoh" href="#"></a>

        </ul>
    </div>

    <!-- Add a loading element -->
    <div id="loadingIndicator">
        <div class="spinner"></div>
    </div>


    <div id="json-upload-modal" class="modal">
        <div class="modal-content">
            <div class="file-upload-buttons">
                <div id="color-buttons">
                <button id="custom-file-upload-button" class="big-button">Load your deck</button>
                   <button class="color-button red-color" data-color="red"> <div class="crystal red space-to-right"></div> Red (Soldiers, mercenaries, war) </button>
                    <button class="color-button blue-color" data-color="blue"> <div class=" crystal blue space-to-right"></div> Blue (Paladins, justice, protection) </button>
                    <button class="color-button cerulean-color" data-color="cerulean"> <div class=" crystal cerulean space-to-right"></div> Cerulean (Arcane, wizards, eldritch) </button>
                    <button class="color-button emerald-color" data-color="emerald"> <div class=" crystal emerald space-to-right"></div> Emerald (Nature, spirits, druids) </button>
                    <button class="color-button green-color" data-color="green"> <div class=" crystal green space-to-right"></div> Green (Wilderness, survival, hunting) </button>
                    <button class="color-button white-color" data-color="white"> <div class=" crystal white space-to-right"></div> White (Religion, divine, priests) </button>
                    <button class="color-button black-color" data-color="black"> <div class=" crystal black space-to-right"></div> Black (Darkness, stealth, criminality)</button>
                    <button class="color-button orange-color" data-color="orange"> <div class=" crystal orange space-to-right"></div> Orange (Barbarians, monsters, strength) </button>
                    <button class="color-button purple-color" data-color="purple"> <div class=" crystal purple space-to-right"></div> Purple (Charisma, bards, travelling)</button>
                    <button class="color-button gold-color" data-color="gold"> <div class=" crystal gold space-to-right"></div> Gold (Merchants, artisans, experts)</button>
                    <button class="color-button" data-color=""> <div class=" crystal silver space-to-right"></div> Jack of all trades (Random colors) </button>
                </div>
            </div>
            <input type="file" id="json-file-input-2" accept=".json" style="display:none">
        </div>
    </div>

    <div id="selection-info" class="selection-info">
        <span id="selected-count" style="display: none;">0</span>
        <span id="deck-status" style="display: none;"></span>
        <ul id="selected-cards-list" style="display: none;"></ul>
        <button id="save-deck-manager-button">Save Deck</button>

    </div>

    <input type="checkbox" id="mini-card-view" />
    <label for="mini-card-view">Mini card template</label>


    <div id="modal-deck-description">
        <div id="modal-content-deck-description">
            <span id="modal-close-deck-description">&times;</span>
            <form id="modal-form-deck-description">
                <label for="modal-input-deck-description">New deck description:</label>
                <textarea id="modal-input-deck-description" name="modal-input-deck-description">  </textarea>
                <button type="submit">Save</button>
            </form>
        </div>
    </div>

</div></body>